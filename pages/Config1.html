<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tinker</title>
    <link rel="stylesheet" href="../style.css" />
</head>

<body>
    <nav>
        <div class="navbar">
            <ul class="menu">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../pages/about.html">About</a></li>
                <li><a href="../pages/category.html">Category</a></li>
                <li><a href="../pages/contact.html">Contact</a></li>
            </ul>
            <div class="logo">
                <a href="../files/logo.png">
                    <img class="logo-img" src="../files/logo.png" alt="Tinker_Logo">
                </a>
            </div>
        </div>
    </nav>

        <h1 style="text-align: center; margin-bottom: 30px;">Ontwerp nu uw $name .</h1>
        <!--de afmetingen -->
        <div class="block-init">
            <div class="flexbox-allig-left-for-block">
                <img class="square-to-drag" ondrop="drop(event)" ondragover="allowDrop(event)" dropzone="copy" id="div1"
                    src="../PictureGallery/white.png" draggable="true" ondragstart="drag(event)">
                <p>Vloer</p>
            </div>
            <div class="flexbox-allig-left-for-block">
                <img class="square-to-drag" ondrop="drop(event)" ondragover="allowDrop(event)" dropzone="copy" id="div2"
                    src="../PictureGallery/white.png" draggable="true" ondragstart="drag(event)">
                <p>Muur</p>
            </div>
        </div>

        <div class="room-to-fill" id="room-to-fill">
            <!-- <img class="square-to-drag-in-room" ondrop="drop(event)" ondragover="allowDrop(event)" dropzone="copy" id="div1"
                src="" draggable="true" ondragstart="drag(event)"> -->
        </div>

        <!--onze library met afbeeldingen-->
        <div class="library-div">
            <div class="library-topic-selection-box">
                <p class="topic-box-selected">Alles</p>
                <p class="topic-box">Badkamer</p>
                <p class="topic-box">Keuken</p>
                <p class="topic-box">Vloerbekleding</p>
                <p class="topic-box">Wandbekleding</p>
            </div>
            <div class="library-image-box" dropzone="true" ondrop="dropRemoved(event)" ondragover="allowDrop(event)">
                <img id="drag1" src="../PictureGallery/behang1.jpg" class="library-image" draggable="true"
                    ondragstart="drag(event)">
                <img id="drag2" src="../PictureGallery/tile1.jpg" class="library-image" draggable="true"
                    ondragstart="drag(event)">
                <img id="drag3" src="../PictureGallery/badkamer/bad_1.png" class="library-image" draggable="true"
                    ondragstart="drag(event)">
                <img id="drag4" src="../PictureGallery/badkamer/corner_counter.png" class="library-image" draggable="true"
                    ondragstart="drag(event)">
                <img id="drag5" src="../PictureGallery/badkamer/sink_1.png" class="library-image" draggable="true"
                    ondragstart="drag(event)">
                <img id="drag6" src="../PictureGallery/badkamer/sink_2.png" class="library-image" draggable="true"
                    ondragstart="drag(event)">
                <img id="drag7" src="../PictureGallery/badkamer/sink_oval_1.png" class="library-image" draggable="true"
                    ondragstart="drag(event)">
                <img id="drag8" src="../PictureGallery/badkamer/wc_2.png" class="library-image" draggable="true"
                    ondragstart="drag(event)">
            </div>
        </div>

        <div class="pricelist-box">
            <ul>test 1</ul>
        </div>

    <div>
        <button class="next-button" onclick="goToNextPage()">
            volgende stap
        </button>
    </div>

    <script>
        //make a few constants for list
        const pricelist = [
            "item-design"
        ]

        function makeEnoughSquares() {
            const appContainer = document.getElementById('room-to-fill');
            const blockLimit = 40;

            const ourBlockList = [{}]
            for (let i = 0; i < blockLimit; i++) {
                var newBlock = document.createElement('img');
                newBlock.classList.add('square-to-drag-in-room');
                newBlock.setAttribute('ondrop', 'drop(event)');
                newBlock.setAttribute('ondragover', 'allowDrop(event)');
                newBlock.setAttribute('dropzone', 'copy');
                newBlock.setAttribute('id', 'div' + i);
                newBlock.setAttribute('src', '../PictureGallery/white.png');
                newBlock.setAttribute('draggable', 'true');
                newBlock.setAttribute('ondragstart', 'drag(event)');
                appContainer.appendChild(newBlock);
            }
        }

        makeEnoughSquares()

        function fillLibrary() {
            const files = fs.readdirSync('../PictureGallery/badkamer');
            filesLength =  files.length;
            console.log(filesLength);

            const container2 = document.querySelector('.library-image-box');

        }

        fillLibrary()




        //een functie dat de afbeelding droppen accepteert
        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);  
        }

        function drop(ev) {
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");
            var draggedImage = document.getElementById(data);
            var src = draggedImage.src;
            var targetImage = ev.target;
            targetImage.src = src;
        }

        function dropChild(ev) {
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");
            var draggedImage = document.getElementById(data);
            var src = draggedImage.src;
            var targetImage = ev.target;
            targetImage.appendChild(draggedImage);
        }

        function dropRemoved(ev) {
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");
            var draggedImage = document.getElementById(data);
            draggedImage.src = "../PictureGallery/white.png";
        }
    </script>
</body>

</html>